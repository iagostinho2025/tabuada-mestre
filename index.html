<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Tabuada Mestre - Aprenda Brincando</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2563eb">
</head>
<body>
    <div id="app">
        
        <div id="overlay-menu" class="oculto"></div> <aside id="menu-lateral">
            <div class="menu-header">
                <div class="avatar-menu-grande" id="avatar-menu-display">ğŸ™‚</div>
                <strong style="font-size: 1.2rem;">OlÃ¡, Mestre!</strong>
                <div class="saldo-badge" style="background: rgba(255,255,255,0.2); border:none; color:white;">
                    â­ <span id="saldo-menu">0</span>
                </div>
            </div>
            <nav class="menu-lista">
                <button class="btn-item-menu" id="menu-desempenho">
                    ğŸ† Meu Desempenho
                </button>
                <button class="btn-item-menu" id="menu-loja">
                    ğŸ›ï¸ Loja de Mestres
                </button>
                <button class="btn-item-menu" onclick="alert('Regras: \n\n1. Treino: Sem tempo, ideal para aprender.\n2. Desafio: Valendo recorde e estrelas!\n3. Lousa: Estude a tabuada antes de jogar.')">
                    ğŸ“œ Como Jogar
                </button>
                <button class="btn-item-menu" onclick="alert('App Tabuada Mestre v2.0\nDesenvolvido por MIB Digital\n\nTodos os direitos reservados.')">
                    â„¹ï¸ Sobre o App
                </button>
            </nav>
            <div class="versao-app">VersÃ£o 2.0.1 (Beta)</div>
        </aside>

        <div id="tela-inicial">
            <div class="header-home-top">
                <button class="btn-hamburguer" id="btn-abrir-menu">â˜°</button>
                
                <div style="display:flex; align-items:center; gap:10px;">
                    <div class="saldo-badge">â­ <span id="saldo-estrelas-home">0</span></div>
                    <div class="avatar-circle-home" id="avatar-display-home" style="width:50px; height:50px; font-size:2rem; border-width:2px;">ğŸ™‚</div>
                </div>
            </div>

            <div class="logo-area">
                <h1>âœ–ï¸ Tabuada Mestre</h1>
                <p>Torne-se um gÃªnio da matemÃ¡tica!</p>
            </div>
            
            <div class="card-nivel-usuario">
                <span>ğŸ† Seu Recorde:</span>
                <strong id="home-recorde">0 pts</strong>
            </div>

            <button id="btn-estudar" class="btn-menu azul">
                <span>ğŸ“– Estudar Tabuadas</span>
                <small>Aprenda e pratique nÃºmero por nÃºmero</small>
            </button>

            <button id="btn-treino" class="btn-menu verde">
                <span>ğŸ® Praticar Agora</span>
                <small>Perguntas aleatÃ³rias (Sem tempo)</small>
            </button>
            
            <button id="btn-desafio" class="btn-menu roxo">
                <span>ğŸ”¥ Desafio RelÃ¢mpago</span>
                <small>Corra contra o tempo</small>
            </button>

            <div class="ad-banner-container" style="margin-top: 30px;">
                <p>Publicidade</p>
            </div>
        </div>

        <div id="tela-loja" class="tela oculto">
            <div class="header-tela">
                <button class="btn-voltar" data-destino="tela-inicial">â¬… Voltar</button>
                <h2>Loja de Mestres</h2>
            </div>
            <div class="container-scroll">
                <div class="banner-saldo-loja">
                    <span>Suas Estrelas:</span>
                    <strong class="texto-dourado">â­ <span id="saldo-estrelas-loja">0</span></strong>
                </div>
                <div id="grid-loja" class="grid-loja"></div>
            </div>
        </div>

        <div id="tela-desempenho" class="tela oculto">
             <div class="header-tela">
                <button class="btn-voltar" data-destino="tela-inicial">â¬… Menu</button>
                <h2>Meu Progresso</h2>
            </div>
            <div class="container-scroll">
                <div class="stats-grid" style="margin-top: 10px;">
                    <div class="stat-card azul"><span class="stat-valor" id="dash-total-jogos">0</span><span class="stat-label">Partidas</span></div>
                    <div class="stat-card verde"><span class="stat-valor" id="dash-total-acertos">0</span><span class="stat-label">Acertos</span></div>
                    <div class="stat-card vermelho"><span class="stat-valor" id="dash-total-erros">0</span><span class="stat-label">Erros Totais</span></div>
                </div>
                <div class="card-grafico">
                    <div class="grafico-header">
                        <h3>Acertos por Tabuada</h3>
                        <div class="botoes-filtro">
                            <button class="btn-filtro" onclick="atualizarGrafico('ano')">Ano</button>
                            <button class="btn-filtro" onclick="atualizarGrafico('mes')">MÃªs</button>
                            <button class="btn-filtro ativo" onclick="atualizarGrafico('dia')">Dia</button>
                        </div>
                    </div>
                    <div class="grafico-container"><div id="container-barras" class="area-barras"></div></div>
                </div>
                <h3 class="titulo-secao-config" style="margin-top: 25px;">HistÃ³rico de Jogos</h3>
                <div class="grid-botoes-historico">
                    <button class="btn-hist-modo roxo" onclick="verHistoricoModo('classico')">â±ï¸ ClÃ¡ssico</button>
                    <button class="btn-hist-modo laranja" onclick="verHistoricoModo('morte')">ğŸ’£ Morte SÃºbita</button>
                    <button class="btn-hist-modo verde" onclick="verHistoricoModo('recarga')">ğŸ”‹ Recarga</button>
                    <button class="btn-hist-modo azul" onclick="verHistoricoModo('speedrun')">ğŸ Speedrun</button>
                </div>
                <div id="painel-detalhes-historico" class="painel-detalhes oculto">
                    <div class="header-detalhes"><h4 id="titulo-modo-historico">ClÃ¡ssico</h4><button class="btn-fechar-mini" onclick="fecharHistoricoModo()">âœ•</button></div>
                    <div class="card-recorde-destaque"><span>ğŸ† Melhor PontuaÃ§Ã£o</span><strong id="valor-recorde-modo">0 pts</strong></div>
                    <h5 style="margin: 15px 0 10px 0; color:var(--text-light)">Ãšltimas 10 Partidas:</h5>
                    <div id="lista-historico-especifica" class="lista-simples"></div>
                </div>
                <div style="margin-top: 40px; text-align: center;">
                    <button class="btn-link" onclick="limparTudo()" style="color: #ef4444; font-size: 0.8rem;">ğŸ—‘ï¸ Apagar todo meu histÃ³rico</button>
                </div>
                <div class="ad-banner-container" style="margin-bottom: 20px;"><p>Publicidade</p></div>
            </div>
        </div>

        <div id="tela-estudo" class="tela oculto">...</div> <div id="tela-config-treino" class="tela oculto">...</div> <div id="tela-config-desafio" class="tela oculto">...</div> <header id="header-jogo" class="oculto">...</header>
        <main id="container-jogo" class="oculto">...</main>
        <div id="tela-resultado" class="oculto">...</div>

    </div>

    <script src="audio.js"></script> 
    <script type="module" src="js/app.js"></script>
</body>
</html>